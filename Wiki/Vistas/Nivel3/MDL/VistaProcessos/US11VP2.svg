<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="567px" preserveAspectRatio="none" style="width:1582px;height:567px;background:#FFFFFF;" version="1.1" viewBox="0 0 1582 567" width="1582px" zoomAndPan="magnify"><defs/><g><rect fill="#FFFFFF" height="416.9922" style="stroke:#181818;stroke-width:1.0;" width="10" x="391" y="87.5703"/><rect fill="#FFFFFF" height="386.6406" style="stroke:#181818;stroke-width:1.0;" width="10" x="629" y="117.9219"/><rect fill="#FFFFFF" height="286.5859" style="stroke:#181818;stroke-width:1.0;" width="10" x="877" y="148.2734"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="1143.5" y="238.8438"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="1376" y="324.5469"/><rect fill="none" height="121.6641" style="stroke:#000000;stroke-width:1.5;" width="765" x="811" y="283.8438"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="395.5" x2="395.5" y1="55.2188" y2="513.5625"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="633.5" x2="633.5" y1="55.2188" y2="513.5625"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="882" x2="882" y1="55.2188" y2="513.5625"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1018" x2="1018" y1="55.2188" y2="513.5625"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1148" x2="1148" y1="55.2188" y2="513.5625"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1267" x2="1267" y1="196.3828" y2="513.5625"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1381" x2="1381" y1="55.2188" y2="513.5625"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1515" x2="1515" y1="363.8516" y2="513.5625"/><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="109" x="341.5" y="22.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="95" x="348.5" y="44.1426">PercursoRoute</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="109" x="341.5" y="512.5625"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="95" x="348.5" y="534.0957">PercursoRoute</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="137" x="565.5" y="22.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="123" x="572.5" y="44.1426">:PercursoController</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="137" x="565.5" y="512.5625"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="123" x="572.5" y="534.0957">:PercursoController</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="122" x="821" y="22.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="108" x="828" y="44.1426">:PercursoService</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="122" x="821" y="512.5625"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="108" x="828" y="534.0957">:PercursoService</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="131" x="953" y="22.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="117" x="960" y="44.1426">percurso:Percurso</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="131" x="953" y="512.5625"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="117" x="960" y="534.0957">percurso:Percurso</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="109" x="1094" y="22.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="95" x="1101" y="44.1426">:PercursoRepo</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="109" x="1094" y="512.5625"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="95" x="1101" y="534.0957">:PercursoRepo</text><rect fill="#E2E2F0" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="109" x="1213" y="512.5625"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="93" x="1221" y="534.0957">listaPercursos:</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="95" x="1220" y="551.7051">PercursoDTO[]</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="98" x="1332" y="22.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="84" x="1339" y="44.1426">PercursoMap</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="98" x="1332" y="512.5625"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="84" x="1339" y="534.0957">PercursoMap</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="101" x="1465" y="512.5625"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="87" x="1472" y="534.0957">PercursoDTO</text><rect fill="#FFFFFF" height="416.9922" style="stroke:#181818;stroke-width:1.0;" width="10" x="391" y="87.5703"/><rect fill="#FFFFFF" height="386.6406" style="stroke:#181818;stroke-width:1.0;" width="10" x="629" y="117.9219"/><rect fill="#FFFFFF" height="286.5859" style="stroke:#181818;stroke-width:1.0;" width="10" x="877" y="148.2734"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="1143.5" y="238.8438"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="1376" y="324.5469"/><ellipse cx="4.5" cy="86.8203" fill="none" rx="4" ry="4" style="stroke:#181818;stroke-width:1.5;"/><polygon fill="#181818" points="379,83.5703,389,87.5703,379,91.5703,383,87.5703" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="9" x2="385" y1="87.5703" y2="87.5703"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="12" y="82.7139">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="353" x="23" y="82.7139">GET(.../api/percurso/percursosArmazemPartida/:idArmazem)</text><polygon fill="#181818" points="617,113.9219,627,117.9219,617,121.9219,621,117.9219" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="401" x2="623" y1="117.9219" y2="117.9219"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="408" y="113.0654">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="198" x="419" y="113.0654">getPercursosByArmazemPartida()</text><polygon fill="#181818" points="865,144.2734,875,148.2734,865,152.2734,869,148.2734" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="639" x2="871" y1="148.2734" y2="148.2734"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="646" y="143.417">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="208" x="657" y="143.417">listarPercursosByArmazemPartida()</text><polygon fill="#181818" points="1201,174.625,1211,178.625,1201,182.625,1205,178.625" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="887" x2="1207" y1="178.625" y2="178.625"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="894" y="173.7686">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="44" x="905" y="173.7686">create()</text><rect fill="#E2E2F0" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="109" x="1213" y="156.2734"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="93" x="1221" y="177.8066">listaPercursos:</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="95" x="1220" y="195.416">PercursoDTO[]</text><polygon fill="#181818" points="1131.5,234.8438,1141.5,238.8438,1131.5,242.8438,1135.5,238.8438" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="887" x2="1137.5" y1="238.8438" y2="238.8438"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="894" y="233.9873">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="217" x="905" y="233.9873">findByArmazemPartidaId(idArmazem)</text><path d="M811,283.8438 L884,283.8438 L884,292.1953 L874,302.1953 L811,302.1953 L811,283.8438 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="121.6641" style="stroke:#000000;stroke-width:1.5;" width="765" x="811" y="283.8438"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="28" x="826" y="298.3389">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="151" x="899" y="297.2627">[por cada percurso na lista]</text><polygon fill="#181818" points="1364,320.5469,1374,324.5469,1364,328.5469,1368,324.5469" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="887" x2="1370" y1="324.5469" y2="324.5469"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="894" y="319.6904">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="187" x="905" y="319.6904">percursoDTO = toDTO(percurso)</text><polygon fill="#181818" points="1453,350.8984,1463,354.8984,1453,358.8984,1457,354.8984" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1381" x2="1459" y1="354.8984" y2="354.8984"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="1388" y="350.042">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="44" x="1399" y="350.042">create()</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="101" x="1465" y="332.5469"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="87" x="1472" y="354.0801">PercursoDTO</text><polygon fill="#181818" points="1255.5,393.5078,1265.5,397.5078,1255.5,401.5078,1259.5,397.5078" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="887" x2="1261.5" y1="397.5078" y2="397.5078"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="894" y="392.6514">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="112" x="905" y="392.6514">push(percursoDTO)</text><polygon fill="#181818" points="650,430.8594,640,434.8594,650,438.8594,646,434.8594" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="644" x2="881" y1="434.8594" y2="434.8594"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="656" y="430.0029">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="83" x="667" y="430.0029">listaPercursos</text><polygon fill="#181818" points="412,461.2109,402,465.2109,412,469.2109,408,465.2109" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="406" x2="628" y1="465.2109" y2="465.2109"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="418" y="460.3545">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="83" x="436" y="460.3545">listaPercursos</text><polygon fill="#181818" points="11,491.5625,1,495.5625,11,499.5625,7,495.5625" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="5" x2="390" y1="495.5625" y2="495.5625"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="17" y="490.7061">11</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="83" x="35" y="490.7061">listaPercursos</text><!--MD5=[72769c5f9ed5b91647412ad2b2650fd1]
@startuml SD US11 - Todos Os Percursos

autonumber

participant "PercursoRoute" as ROUTE
participant ":PercursoController" as CTRL
participant ":PercursoService" as SERVICE
participant "percurso:Percurso" as PERCURSO
participant ":PercursoRepo" as REPO
participant "listaPercursos:\nPercursoDTO[]" as LISTA_DTO
participant "PercursoMap" as MAP
participant "PercursoDTO" as DTO





?o->ROUTE : GET(.../api/percurso/percursosArmazemPartida/:idArmazem)
activate ROUTE
ROUTE -> CTRL : getPercursosByArmazemPartida()
activate CTRL
CTRL -> SERVICE : listarPercursosByArmazemPartida()
activate SERVICE

SERVICE -> LISTA_DTO** : create()
SERVICE -> REPO : findByArmazemPartidaId(idArmazem)
activate REPO
deactivate REPO
loop por cada percurso na lista

SERVICE -> MAP : percursoDTO = toDTO(percurso)
activate MAP
MAP - -> DTO** : create()
deactivate MAP
SERVICE -> LISTA_DTO : push(percursoDTO)

end
SERVICE - -> CTRL : listaPercursos
deactivate SERVICE
CTRL - -> ROUTE : listaPercursos
<- - ROUTE : listaPercursos





@enduml

PlantUML version 1.2022.7(Mon Aug 22 18:01:30 BST 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: Cp1252
Language: pt
Country: PT
--></g></svg>