<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="570px" preserveAspectRatio="none" style="width:544px;height:570px;background:#FFFFFF;" version="1.1" viewBox="0 0 544 570" width="544px" zoomAndPan="magnify"><defs/><g><rect fill="#FFFFFF" height="386.8672" style="stroke:#181818;stroke-width:1.0;" width="10" x="17.5" y="92.6094"/><rect fill="#FFFFFF" height="318.1641" style="stroke:#181818;stroke-width:1.0;" width="10" x="183.5" y="114.9609"/><rect fill="#FFFFFF" height="164.7578" style="stroke:#181818;stroke-width:1.0;" width="10" x="403.5" y="188.6641"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="22" x2="22" y1="82.6094" y2="488.4766"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="188.5" x2="188.5" y1="82.6094" y2="488.4766"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="408.5" x2="408.5" y1="82.6094" y2="488.4766"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="29" x="5" y="79.5332">User</text><ellipse cx="22.5" cy="13.5" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M22.5,21.5 L22.5,48.5 M9.5,29.5 L35.5,29.5 M22.5,48.5 L9.5,63.5 M22.5,48.5 L35.5,63.5 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="29" x="5" y="502.0098">User</text><ellipse cx="22.5" cy="513.5859" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M22.5,521.5859 L22.5,548.5859 M9.5,529.5859 L35.5,529.5859 M22.5,548.5859 L9.5,563.5859 M22.5,548.5859 L35.5,563.5859 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="138" x="119.5" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="124" x="126.5" y="71.5332">&lt;&lt;SPA (Browser)&gt;&gt;</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="138" x="119.5" y="487.4766"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="124" x="126.5" y="509.0098">&lt;&lt;SPA (Browser)&gt;&gt;</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="158" x="329.5" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="144" x="336.5" y="71.5332">&lt;&lt;Authorization Server</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="158" x="329.5" y="487.4766"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="144" x="336.5" y="509.0098">&lt;&lt;Authorization Server</text><rect fill="#FFFFFF" height="386.8672" style="stroke:#181818;stroke-width:1.0;" width="10" x="17.5" y="92.6094"/><rect fill="#FFFFFF" height="318.1641" style="stroke:#181818;stroke-width:1.0;" width="10" x="183.5" y="114.9609"/><rect fill="#FFFFFF" height="164.7578" style="stroke:#181818;stroke-width:1.0;" width="10" x="403.5" y="188.6641"/><polygon fill="#181818" points="171.5,110.9609,181.5,114.9609,171.5,118.9609,175.5,114.9609" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="27.5" x2="177.5" y1="114.9609" y2="114.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="113" x="34.5" y="110.1045">Abrir aplicação web</text><line style="stroke:#181818;stroke-width:1.0;" x1="193.5" x2="235.5" y1="145.3125" y2="145.3125"/><line style="stroke:#181818;stroke-width:1.0;" x1="235.5" x2="235.5" y1="145.3125" y2="158.3125"/><line style="stroke:#181818;stroke-width:1.0;" x1="194.5" x2="235.5" y1="158.3125" y2="158.3125"/><polygon fill="#181818" points="204.5,154.3125,194.5,158.3125,204.5,162.3125,200.5,158.3125" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="117" x="200.5" y="140.4561">Mostrar página login</text><polygon fill="#181818" points="391.5,184.6641,401.5,188.6641,391.5,192.6641,395.5,188.6641" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="193.5" x2="397.5" y1="188.6641" y2="188.6641"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="191" x="200.5" y="183.8076">Redirecionar para o servidor Auth</text><line style="stroke:#181818;stroke-width:1.0;" x1="413.5" x2="455.5" y1="219.0156" y2="219.0156"/><line style="stroke:#181818;stroke-width:1.0;" x1="455.5" x2="455.5" y1="219.0156" y2="232.0156"/><line style="stroke:#181818;stroke-width:1.0;" x1="414.5" x2="455.5" y1="232.0156" y2="232.0156"/><polygon fill="#181818" points="424.5,228.0156,414.5,232.0156,424.5,236.0156,420.5,232.0156" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="117" x="420.5" y="214.1592">Mostrar página login</text><polygon fill="#181818" points="391.5,258.3672,401.5,262.3672,391.5,266.3672,395.5,262.3672" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="27.5" x2="397.5" y1="262.3672" y2="262.3672"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="27" x="34.5" y="257.5107">login</text><polygon fill="#181818" points="204.5,288.7188,194.5,292.7188,204.5,296.7188,200.5,292.7188" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="198.5" x2="402.5" y1="292.7188" y2="292.7188"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132" x="210.5" y="287.8623">Redirecionar para SPA</text><polygon fill="#181818" points="391.5,319.0703,401.5,323.0703,391.5,327.0703,395.5,323.0703" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="193.5" x2="397.5" y1="323.0703" y2="323.0703"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="114" x="200.5" y="318.2139">Obter access token</text><polygon fill="#181818" points="204.5,349.4219,194.5,353.4219,204.5,357.4219,200.5,353.4219" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="198.5" x2="407.5" y1="353.4219" y2="353.4219"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="145" x="210.5" y="348.5654">id_token e access_token</text><line style="stroke:#181818;stroke-width:1.0;" x1="193.5" x2="235.5" y1="383.7734" y2="383.7734"/><line style="stroke:#181818;stroke-width:1.0;" x1="235.5" x2="235.5" y1="383.7734" y2="396.7734"/><line style="stroke:#181818;stroke-width:1.0;" x1="194.5" x2="235.5" y1="396.7734" y2="396.7734"/><polygon fill="#181818" points="204.5,392.7734,194.5,396.7734,204.5,400.7734,200.5,396.7734" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="89" x="200.5" y="378.917">validar id_token</text><line style="stroke:#181818;stroke-width:1.0;" x1="193.5" x2="235.5" y1="432.125" y2="432.125"/><line style="stroke:#181818;stroke-width:1.0;" x1="235.5" x2="235.5" y1="432.125" y2="445.125"/><line style="stroke:#181818;stroke-width:1.0;" x1="188.5" x2="235.5" y1="445.125" y2="445.125"/><polygon fill="#181818" points="198.5,441.125,188.5,445.125,198.5,449.125,194.5,445.125" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="104" x="200.5" y="427.2686">login na aplicação</text><polygon fill="#181818" points="38.5,466.4766,28.5,470.4766,38.5,474.4766,34.5,470.4766" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="32.5" x2="187.5" y1="470.4766" y2="470.4766"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="137" x="44.5" y="465.6201">Mostrar funcionalidades</text><!--MD5=[eeb14637f1bc87650217f9c4645629f5]
@startuml

actor "User" as gestor
participant "<<SPA (Browser)>>" as SYSTEM
participant "<<Authorization Server" as SYSTEM2


activate gestor
gestor - -> SYSTEM:  Abrir aplicação web
activate SYSTEM
SYSTEM -> SYSTEM: Mostrar página login
SYSTEM -> SYSTEM2: Redirecionar para o servidor Auth
activate SYSTEM2
SYSTEM2 -> SYSTEM2: Mostrar página login
gestor - -> SYSTEM2: login
SYSTEM2 -> SYSTEM: Redirecionar para SPA
SYSTEM -> SYSTEM2: Obter access token
SYSTEM2 -> SYSTEM: id_token e access_token
deactivate SYSTEM2
SYSTEM -> SYSTEM: validar id_token
SYSTEM -> SYSTEM: login na aplicação
deactivate SYSTEM
SYSTEM - -> gestor: Mostrar funcionalidades

@enduml

PlantUML version 1.2022.7(Mon Aug 22 18:01:30 BST 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: Cp1252
Language: pt
Country: PT
--></g></svg>